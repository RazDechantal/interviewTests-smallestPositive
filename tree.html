<div id="main-splitpane-left" class="coding-question__left-pane"><section class="question-view__title-wrapper"><h1 class="disable-text-selection question-view__title">3. Is this a tree? (Collab UK Version)</h1></section><section class="question-view__instruction"><div class="candidate-rich-text disable-text-selection"><div id="ndi1h6jr72-instruction"><style type="text/css">.ps-content-wrapper-v0 div { margin: 0 auto; overflow: auto; } .ps-content-wrapper-v0 div.preheader { display: none; } .ps-content-wrapper-v0 p { white-space: pre-wrap; padding-left: 4px; padding-right: 4px; padding-top: 0px; padding-bottom: 2px; } .ps-content-wrapper-v0 p.section-title { font-weight: bold; padding-bottom: 0px; } .ps-content-wrapper-v0 ol.plain-list, .ps-content-wrapper-v0 ul.plain-list { list-style-type: none; padding: 4px; } .ps-content-wrapper-v0 li { white-space: normal; margin-top: 4px; margin-bottom: 4px; } .ps-content-wrapper-v0 code { color: black; } .ps-content-wrapper-v0 pre { background-color: #f4faff; border: 0; border-radius: 2px; margin: 8px; padding: 10px; } .ps-content-wrapper-v0 figure { background-color: transparent; display: table; margin-top: 8px; margin-bottom: 8px; text-align: center; margin-left: auto; margin-right: auto; } .ps-content-wrapper-v0 figcaption { text-align: center; display: table-caption; caption-side: bottom; margin-top: 4px; margin-bottom: 4px; } .ps-content-wrapper-v0 img { width: auto; max-width: 100%; height: auto; } .ps-content-wrapper-v0 details { background-color: transparent; padding-left: 4px; padding-right: 4px; padding-top: 0px; padding-bottom: 2px; } .ps-content-wrapper-v0 details summary { background-color: #39424e; color: white; font-weight: bold; margin-top: 4px; margin-bottom: 4px; padding: 8px; } .ps-content-wrapper-v0 details div.collapsable-details { margin: 0 auto; padding-left: 4px; padding-right: 4px; padding-top: 0px; padding-bottom: 2px; overflow: auto; } .ps-content-wrapper-v0 details div.collapsable-details pre { margin-left: 4px; margin-right: 4px; margin-top: 4px; margin-bottom: 4px; } .ps-content-wrapper-v0 table { border: 1px solid black; border-collapse: collapse; border-color: darkgray; margin: 0 auto; margin-top: 8px; margin-bottom: 8px; padding: 8px; width: 96%; table-layout: fixed; } .ps-content-wrapper-v0 table tbody tr th, .ps-content-wrapper-v0 table tbody tr td { font-weight: bold; white-space: nowrap; text-align: center; vertical-align: middle; border: 1px solid black; border-color: darkgray; padding: 8px; } .ps-content-wrapper-v0 table tbody tr th.description { width: 60%; } .ps-content-wrapper-v0 table tbody tr td { font-weight: normal; white-space: normal; } .ps-content-wrapper-v0 table.function-params tbody tr:first-child td.headers { border-bottom-width: 2px; } .ps-content-wrapper-v0 table.function-params tbody tr:last-child td { border-top-width: 2px; border-top-color: darkgray; } .ps-content-wrapper-v0 table.function-params tbody tr td.headers { width: 25%; font-weight: bold; text-align: center; border: 1px solid black; border-right-width: 2px; border-color: darkgray; } .ps-content-wrapper-v0 table.function-params tbody tr td.params-table-cell { width: 100%; height: 100%; padding: 0px; } .ps-content-wrapper-v0 table.function-params tbody tr td.params-table-cell table.params-table { width: 100%; height: 100%; padding: 0px; margin: 0px; border: 0; } .ps-content-wrapper-v0 table.function-params tbody tr td.params-table-cell table.params-table tbody tr td.code { white-space: normal; } .ps-content-wrapper-v0 table.function-params tbody tr td.params-table-cell table.params-table tbody tr th { border-top: 0; } .ps-content-wrapper-v0 table.function-params tbody tr td.params-table-cell table.params-table tbody tr th:first-child { border-left: 0; } .ps-content-wrapper-v0 table.function-params tbody tr td.params-table-cell table.params-table tbody tr th:last-child { border-right: 0; } .ps-content-wrapper-v0 table.function-params tbody tr td.params-table-cell table.params-table tbody tr:last-child td { border-bottom: 0; border-top-width: 1px; } .ps-content-wrapper-v0 table.function-params tbody tr td.params-table-cell table.params-table tbody tr td:first-child { border-left: 0; } .ps-content-wrapper-v0 table.function-params tbody tr td.params-table-cell table.params-table tbody tr td:last-child { border-right: 0; } .ps-content-wrapper-v0 .left { text-align: left; } .ps-content-wrapper-v0 .right { text-align: right; } .ps-content-wrapper-v0 .code { font-family: monospace; white-space: nowrap; } .ps-content-wrapper-v0 .json-object-array ol, .ps-content-wrapper-v0 .json-object-array ol ul { margin-top: 0px; padding-left: 14px; } .json-object-array li { float: left; margin-right: 30px; margin-left: 10px; } .json-object-array pre { padding: 4px; margin-left: 0px; }
</style>
<div class="ps-content-wrapper-v0">
<p>A binary tree is represented as a sequence of parent-child pairs, for example:</p>

<pre>(A,B) (A,C) (B,G) (C,H) (E,F) (B,D) (C,E)</pre>

<p>&nbsp;</p>

<p>A tree with those edges may be illustrated in many ways. Here are two:</p>

<p>&nbsp;</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img height="326" src="https://s3.amazonaws.com/istreet-assets/jo4W_VBYuMtVSejmbYAqbw/validbstexample.svg" width="645"></p>

<p>&nbsp;</p>
<!--
<pre style="font-family: 'courier new', courier, monospace;">
     A
   /  \
  B    C
&nbsp;/ \  / \
G  D  E   H
       \    
        F    </pre>

<pre style="font-family: 'courier new', courier, monospace; font-style: normal; font-variant: normal;">
    A
   /  \
  B    C
&nbsp;/ \  / \
D  G H   E
        /
       F</pre>
-->

<p>The following is a recursive definition for the S-expression of a tree:</p>

<p>&nbsp;</p>

<div style="background:#eee;border:1px solid #ccc;padding:5px 10px;">S-exp(node) = ( node-&gt;val (S-exp(node-&gt;first_child))(S-exp(node-&gt;second_child))), if node != NULL = "", node == NULL
<p>&nbsp;</p>

<p style="padding-left:40px;">where, first_child-&gt;val &lt; second_child-&gt;val (first_child-&gt;val is lexicographically smaller than second_child-&gt; val)</p>

<p>&nbsp;</p>
</div>

<p>&nbsp;</p>

<p>This tree can be represented in an S-expression in multiple ways. The lexicographically smallest way of expressing it is as follows:</p>

<pre>(A(B(D)(G))(C(E(F))(H)))</pre>

<p>&nbsp;</p>

<p>Translate the node-pair representation into its lexicographically smallest S-expression or report any errors that do not conform to the definition of a binary tree.</p>

<p>&nbsp;</p>

<p>The list of errors with their codes is as follows:</p>

<p>&nbsp;</p>

<p><strong>Error Code &nbsp; &nbsp; &nbsp;Type of error</strong><br>
E1 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; More than 2 children<br>
E2 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Duplicate Edges<br>
E3 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Cycle present (node is direct descendant of more than one node)<br>
E4 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Multiple roots<br>
E5 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Any other error &nbsp;&nbsp;</p>

<p>&nbsp;</p>

<p><strong>Function Description </strong></p>

<p>Complete the function <em>sExpression</em> in the editor below. The function must return either the lexicographically lowest S-expression or the lexicographically lowest error code as a string.</p>

<p>&nbsp;</p>

<p>sExpression has the following parameter(s):</p>

<p>&nbsp;&nbsp;&nbsp;&nbsp;<em>nodes:</em>&nbsp; a string of space-separated parenthetical elements, each of which contains the names of two connected nodes separated by a comma</p>

<p>&nbsp;</p>
<strong>Constraints:</strong>

<p>&nbsp;</p>

<ol>
	<li>All node names are single characters in the range <em>ascii[A-Z]</em>
</li>
	<li>The maximum node count is <em>26</em>.</li>
	<li>There is no specific order to&nbsp;the input (parent, child) pairs.</li>
</ol>

<p>&nbsp;</p>

<p>If you have not worked with trees when programming before then the following may be helpful. A tree can be stored in memory as a map from parents to each of their children. For example, if { K: V } indicates an item in a dictionary or hashmap with key K and value V, and [X, Y] indicates a list or array with elements X and Y, then the example tree could be stored as:</p>

<p>{<br>
&nbsp;&nbsp;&nbsp;&nbsp;A: [B, C]<br>
&nbsp;&nbsp;&nbsp;&nbsp;B: [D, G]<br>
&nbsp;&nbsp;&nbsp;&nbsp;C: [E, H]<br>
&nbsp;&nbsp;&nbsp;&nbsp;D: []<br>
&nbsp;&nbsp;&nbsp;&nbsp;E: [F]<br>
&nbsp;&nbsp;&nbsp;&nbsp;F: []<br>
&nbsp;&nbsp;&nbsp;&nbsp;G: []<br>
&nbsp;&nbsp;&nbsp;&nbsp;H: []<br>
}</p>

<p><br>
This is not the only way to store a tree, nor is it necessarily the best way in all cases, however it will be<br>
sufficient to solve the problem given to you.</p>

<p>&nbsp;</p>
<!--       <StartOfInputFormat> DO NOT REMOVE THIS LINE-->

<details><summary class="section-title">Input Format for Custom Testing</summary>

<div class="collapsable-details">
<p>Input from stdin will be processed as follows and passed to the function.</p>

<p>&nbsp;</p>

<p>The first line contains a string <em>nodes</em>.</p>

<p>&nbsp;</p>
</div>
</details>

<details><summary class="section-title">Sample Case 0</summary>

<div class="collapsable-details">
<p><strong>Sample Input 0</strong></p>

<pre>(B,D) (D,E) (A,B) (C,F) (E,G) (A,C)</pre>

<p>&nbsp;</p>

<p><strong>Sample Output 0</strong></p>

<p>&nbsp;</p>

<pre>(A(B(D(E(G))))(C(F)))</pre>

<p>&nbsp;</p>

<p><strong>Explanation 0</strong></p>

<p>A representation of the tree is as follows:</p>

<p>&nbsp;</p>

<p><img height="131" src="https://s3.amazonaws.com/istreet-assets/-lCE0IXakJtmPvnfpv6Rjg/isthistreesample0.svg" width="443"></p>
</div>
</details>

<details><summary class="section-title">Sample Case 1</summary>

<div class="collapsable-details">
<p><strong>Sample Input 1</strong></p>

<pre>(A,B) (A,C) (B,D) (D,C)</pre>

<p>&nbsp;</p>

<p><strong>Sample Output 1</strong></p>

<pre>E3</pre>

<p>&nbsp;</p>

<p><strong>Explanation 1</strong></p>

<p>&nbsp;</p>

<p><img height="131" src="https://s3.amazonaws.com/istreet-assets/7KtLl9BJiHjyTC0Bo07ucA/isthisatreesample1.svg" width="251"></p>

<p>Node <em>C</em><strong> </strong>is a child of nodes <em>A</em>&nbsp;and <em>D.</em>&nbsp;Since <em>D</em> tries to attach itself as parent to a node already above it in the tree, this forms a cycle.</p>
</div>
</details>
</div>
</div></div></section></div>